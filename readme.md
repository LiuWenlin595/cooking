# 电子菜单微信小程序

一个专为情侣/家庭设计的电子菜单小程序，提供完整的"点菜-备菜-做饭"闭环解决方案。

## 📱 项目简介

本小程序旨在解决情侣和家庭"每日吃啥"的难题，通过数字化管理菜谱、食材和订单，让做饭变得更加轻松有序。支持多厨房管理、智能食材匹配、饮食计划等功能，适合快速做线上菜单与接单。

## ✨ 核心功能

### 1. 店铺管理
- **店铺信息设置**：可自定义店铺头像、背景图、店名和简介
- **多厨房支持**：支持创建多个厨房，可随时切换
- **管理员设置**：可为每个厨房设置管理员，支持多人协作
- **订单通知**：可开启/关闭新订单通知功能

### 2. 菜谱管理
- **添加菜谱**：支持手动添加菜谱，包含以下信息：
  - 菜名、分类、描述
  - 菜谱图片
  - 份量、制作时长、难度
  - 详细用料清单（名称和用量）
  - 制作步骤（文字和图片）
  - 营养信息（热量、蛋白质、脂肪、碳水）
- **菜谱分类**：支持按分类筛选浏览
- **必点菜设置**：可标记必点菜，优先推荐
- **搜索功能**：支持按菜名、描述、分类搜索
- **随机点菜**：一键随机选择菜谱，解决选择困难
- **批量导出**：支持导出所有菜谱数据备份

### 3. 点菜与订单
- **浏览菜单**：以卡片形式展示所有菜谱
- **菜谱详情**：查看完整的菜谱信息
- **快速下单**：从菜谱详情页直接下单
- **订单管理**：
  - 查看所有订单列表
  - 按状态筛选（待处理/制作中/已完成）
  - 接单功能（管理员）
  - 出餐功能（管理员）
- **订单详情**：查看订单完整信息，包括菜品、备注等

### 4. 食材与饮食管理
- **食材管理**：
  - 录入食材名称、数量、单位
  - 设置保质期，自动计算剩余天数
  - 过期提醒（3天内高亮显示）
  - 编辑和删除食材
- **智能匹配**：根据现有食材自动匹配可做的菜谱
- **饮食计划**：
  - 按日期安排每日菜单
  - 支持早餐、午餐、晚餐分别安排
  - 查看本周计划预览
  - 一键下单：将计划转换为订单

### 5. 数据管理
- **数据导出**：导出所有数据（菜谱、订单、食材、计划）为JSON格式
- **数据导入**：从剪贴板导入JSON数据
- **数据统计**：查看菜谱数、订单数、食材数、计划数统计
- **清空数据**：一键清空所有数据（需确认）

## 🛠️ 技术栈

- **框架**：微信小程序原生框架
- **语言**：JavaScript (ES6+)
- **样式**：WXSS
- **存储**：微信小程序本地存储（localStorage）

## 📁 项目结构

```
CookingApp/
├── app.js                 # 小程序入口文件
├── app.json               # 小程序全局配置
├── app.wxss               # 小程序全局样式
├── sitemap.json           # 站点地图配置
├── project.config.json    # 项目配置文件
├── pages/                 # 页面目录
│   ├── index/             # 首页
│   ├── shop/              # 店铺管理
│   ├── recipe/            # 菜谱相关
│   │   ├── list/          # 菜谱列表
│   │   ├── detail/        # 菜谱详情
│   │   └── add/           # 添加/编辑菜谱
│   ├── order/             # 订单相关
│   │   ├── list/          # 订单列表
│   │   └── detail/        # 订单详情
│   ├── ingredient/        # 食材管理
│   ├── mealplan/          # 饮食计划
│   └── profile/           # 个人中心
├── utils/                 # 工具函数
│   ├── util.js           # 通用工具函数
│   └── storage.js         # 存储管理工具
└── images/                # 图片资源
    └── tabbar/            # 底部导航图标
```

## 🚀 快速开始

### 1. 环境准备

- 安装 [微信开发者工具](https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html)
- 注册微信小程序账号（如已有可跳过）

### 2. 创建小程序项目

1. 打开微信开发者工具
2. 选择"小程序"项目类型
3. 点击"+"创建新项目
4. 填写项目信息：
   - **项目名称**：电子菜单（或自定义）
   - **目录**：选择本项目的 `CookingApp` 文件夹
   - **AppID**：填写你的小程序 AppID（测试可使用测试号）
   - **开发模式**：选择"小程序"

### 3. 配置 AppID

编辑 `project.config.json` 文件，将 `appid` 字段修改为你的小程序 AppID：

```json
{
  "appid": "your-appid-here"
}
```

### 4. 准备图片资源

在 `images` 目录下准备以下图片：

- **底部导航图标**（`images/tabbar/`）：
  - `home.png` / `home-active.png`
  - `recipe.png` / `recipe-active.png`
  - `order.png` / `order-active.png`
  - `profile.png` / `profile-active.png`

- **默认图片**：
  - `default-avatar.png` - 默认头像
  - `default-bg.jpg` - 默认背景图
  - `default-recipe.png` - 默认菜谱图片

> **提示**：如果暂时没有图片，可以先使用占位图或在线图片，小程序会正常显示。

### 5. 运行项目

1. 在微信开发者工具中点击"编译"
2. 在模拟器中预览小程序
3. 使用真机调试功能在手机上测试

## 📖 使用指南

### 首次使用

1. **设置店铺信息**
   - 进入"我的" → "店铺管理"
   - 设置店铺头像、背景、名称和简介
   - 可以创建多个厨房（如：主厨房、副厨房）

2. **添加菜谱**
   - 进入"菜谱"页面
   - 点击"添加菜谱"按钮
   - 填写菜谱信息并保存

3. **管理食材**
   - 进入"食材管理"页面
   - 添加现有食材及数量
   - 设置保质期以便提醒

4. **开始点菜**
   - 在首页或菜谱列表浏览菜谱
   - 点击菜谱查看详情
   - 点击"点这道菜"下单

### 管理员功能

只有被设置为管理员的用户才能：
- 添加/编辑/删除菜谱
- 接单和出餐
- 管理店铺设置

### 数据备份

建议定期导出数据备份：
1. 进入"我的" → "导出数据"
2. 数据会复制到剪贴板
3. 粘贴到文本文件保存

## 🔧 配置说明

### 修改主题色

在 `app.wxss` 中修改全局主题色：

```css
/* 主色调 */
--primary-color: #ff6b6b;
```

### 修改页面标题

在 `app.json` 中修改：

```json
{
  "window": {
    "navigationBarTitleText": "你的标题"
  }
}
```

## 📝 注意事项

1. **数据存储**：本小程序使用本地存储，数据仅保存在当前设备
2. **图片上传**：图片使用本地临时路径，实际项目中建议上传到云存储
3. **用户权限**：管理员功能基于用户昵称判断，实际项目建议使用更安全的权限系统
4. **订单通知**：当前版本的通知功能为预留接口，实际项目中需要配置服务器和模板消息

## 🔄 后续优化建议

1. **云开发集成**：使用微信云开发实现数据云端同步
2. **用户系统**：完善用户登录和权限管理
3. **图片上传**：集成云存储，支持图片上传和CDN加速
4. **消息推送**：实现订单通知的模板消息推送
5. **分享功能**：优化小程序分享，支持分享特定菜谱或店铺
6. **数据统计**：增加更详细的数据分析和统计功能

## 📄 许可证

本项目仅供学习和个人使用。

## 👥 贡献

欢迎提交 Issue 和 Pull Request！

## 📮 联系方式

如有问题或建议，欢迎反馈。

---

**祝使用愉快！🍽️**
